<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BibTexViz</title>
    <link rel="icon" href="static/images/favicon.png" type="image/png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

    <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
    <!-- Título y subtítulo centrados -->
    <div class="text-center mt-4 mb-4">
        <h1 class="title-gradient"><a href="/" style="text-decoration: none; color: inherit;">BibTex Visualization</a></h1>
        <h4 class="subtitle-colored">Transform .bibtex files into powerful visualizations to explore and analyze research productivity</h4>
    </div>

    <div class="container-fluid mt-3">
        <div class="row">
            <div class="col-md-3">
                <div class="card card-researcher">
                    <div class="card-header">
                        <ul class="nav nav-tabs card-header-tabs" id="researcherTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="info-tab" data-bs-toggle="tab" data-bs-target="#info" type="button" role="tab">
                                    Researcher Info
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="about-tab" data-bs-toggle="tab" data-bs-target="#about" type="button" role="tab">
                                    About / Help
                                </button>
                            </li>
                        </ul>
                    </div>
                    <!-- Contenido de Researcher Information -->
                    <div class="card-body tab-content" id="researcherTabContent">
                        <div class="tab-pane fade show active" id="info" role="tabpanel">
                            <form id="dataForm">
                                <div class="mb-3">
                                    <label for="researcherName" class="form-label">Researcher</label>
                                    <input type="text" class="form-control" id="researcherName" required>
                                    <div class="invalid-feedback">
                                        Please, fill in your name.
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="bibFile" class="form-label">Upload .bib file (optional)</label>
                                    <input class="form-control" type="file" id="bibFile" accept=".bib">
                                </div>
                                <button type="submit" class="btn btn-primary">Submit</button>
                            </form>
                        </div>
                    </div>

                    <!-- Contenido de About / Help -->
                    <div class="tab-pane fade" id="about" role="tabpanel">
                        <div class="card">
                            <div class="card-body">
                            
                               <div class="d-flex align-items-start">
                                    <img class="img-fluid me-3" src="static/images/bibtexviz_logo_recortado.png" alt="BibTexViz logo" width="200px">
                                    <p class="card-text">
                                        <strong>BibTexViz</strong> is a tool that transforms <code>.bib</code> files into interactive visualizations for exploring and analyzing research productivity. It offers an intuitive overview of the research publication landscape over the years, allowing users to quickly identify the most significant publications and understand their context.
                                        This web application runs entirely on the client side, requiring no server, and leverages HTML, CSS, JavaScript, and the D3.js library to render the visualizations.
                                    </p>
                                    
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Researcher information</h5>
                                The input form contains two fields:
                                <ul class="card-text">
                                    <li>
                                        <strong>Researcher (required):</strong> The researcher's full name. It is used to search for the researcher in the <a href="https://dblp.org/">DBLP</a> database and retrieve all their BibTeX entries.
                                        It is also used to determine the author's position among the total number of authors in each publication. 
                                        Note that DBLP may not list all publications or may contain incomplete BibTeX entries, so providing a <code>.bib</code> file can help fill in any missing information and improve the visualization.
                                    </li>
                                    <li>
                                        <strong>.bib file (optional):</strong> The provided <code>.bib</code> file is used to extract the researcher's publications. 
                                        If this field is not provided, publications are retrieved from DBLP. 
                                        If both sources are provided, the <code>.bib</code> file takes precedence over DBLP, allowing you to customize entries and include additional information not available in DBLP.
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Visualization of a publication</h5>
                                Publications are shown as colored squares in a bar chart timeline. Each bar represents a year, with all publications for that year stacked vertically. Within a year, publications are ordered from top to bottom by type, ranking, awards, and date, in that order of precedence. The type order is specified in the following section.
                                Each square is interactive, allowing you to click and view publication details such as title, authors, DOI, and more.
                                <p class="card-text"><img class="img-fluid" src="static/images/publication_schema.png" alt="Visualization example"></p>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Publication type</h5>
                                <p class="card-text">The type of a publication is automatically extracted from the BibTeX entry and encoded with colors following a schema similar to that used by <a href="https://dblp.org/">DBLP</a>.
                                    <div class="color-legend" style="display: flex; flex-direction: column; gap: 12px; margin-top: 10px;">
                                    
                                    
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 20px; height: 20px; background-color: #ffd500;"></div>
                                        <div>
                                            <strong>Book and PhD thesis</strong>
                                            <small>From BibTeX entry <code>@book</code> or <code>@phdthesis</code></small>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 20px; height: 20px; background-color: #c32b72;"></div>
                                        <div>
                                            <strong>Journal</strong>
                                            <small>From BibTeX entry <code>@article</code></small>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 20px; height: 20px; background-color: #196ca3;"></div>
                                        <div>
                                            <strong>International conference</strong>
                                            <small>From BibTeX entry <code>@inproceedings</code></small>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 20px; height: 20px; background-color: #2ecc71;"></div>
                                        <div>
                                            <strong>International workshop</strong>
                                            <small>From BibTeX entry <code>@inproceedings</code> with the <code>Workshop</code> or <code>WS</code> word in the <code>booktitle</code></small>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 20px; height: 20px; background-color: #e68019;"></div>
                                        <div>
                                            <strong>National conference</strong>
                                            <small>From BibTeX entry <code>@inproceedings</code>, requires <code>scope={national}</code> in the entry (not present in DBLP)</small>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 20px; height: 20px; background-color: #885522;"></div>
                                        <div>
                                            <strong>Data and artifacts</strong>
                                            <small>From BibTeX entry <code>@misc</code> with <code>publisher={Zenodo}</code></small>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 20px; height: 20px; background-color: #33c3ba;"></div>
                                        <div>
                                            <strong>Editorship</strong>
                                            <small>From BibTeX entry <code>@proceedings</code></small>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 20px; height: 20px; background-color: #606b70;"></div>
                                        <div>
                                            <strong>Informal and other publications</strong>
                                            <small>Other BibTeX entries such as <code>@article</code> with <code>journal={CoRR}</code>, <code>@techreport</code>, <code>@misc</code>, etc.</small>
                                        </div>
                                    </div>
                                </div>
                                </p>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Ranking</h5>
                                <ul class="card-text">
                                    <li>
                                        <strong>Journals:</strong> The ranking is based on the <a href="https://clarivate.com/academia-government/scientific-and-academic-research/research-funding-analytics/journal-citation-reports/">Journal Citation Reports (JCR)</a>, which indicate their quartile (Q1 to Q4).
                                    Since there is currently no free public API for JCR, this information cannot be obtained automatically. It must be manually added to the BibTeX entry, for example: <code>jcr={Q1}</code>. More detailed information can also be included and will be shown in the publication details, e.g., <code>jcr={Q1 (9/131) Computer Science, Software Engineering. Impact factor: 6.5}</code>, as long as it starts with the quartile.
                                    Non-indexed journals are indicated as <code>jcr={}</code> and appear in the visualization with a <code>-</code>, while if the <code>jcr</code> field is missing, the ranking is considered unknown and shown as <code>?</code>.
                                    </li>
                                    <li>
                                        <strong>Conferences:</strong> The ranking is based on the <a href="https://portal.core.edu.au/conf-ranks/">ICORE ranking</a>, which classifies conferences from A* to C.
                                    This information is automatically extracted from the .csv file provided on the ICORE portal.
                                    Non-indexed conferences are displayed with a <code>-</code> in the visualization.
                                    </li>
                                    <li>
                                        <strong>Others:</strong> Other publications are not ranked by default and appear with a <code>-</code> in the visualization. However, you can specify their ranking using a <code>calification</code> BibTex entry. For example, to indicate the rating of a PhD thesis, use <code>calification={Cum Laude}</code>, which will display "Cum Laude" as its ranking in the visualization.
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Venue</h5>
                                <p class="card-text">The venue of a publication is automatically extracted from the BibTeX entry and displayed at the bottom-right corner of the square. Its value depends on the publication type:</p>
                                <ul class="card-text">
                                <li>
                                    <strong>Journals:</strong> Taken from the <code>journal</code> field.
                                </li>
                                <li>
                                    <strong>Conferences:</strong> Taken from the <code>booktitle</code> field.
                                </li>
                                <li>
                                    <strong>Books and PhDThesis:</strong> Displays <code>Book</code> or <code>PhD Thesis</code>, respectively.
                                </li>
                                <li>
                                    <strong>Others:</strong> Taken from the <code>journal</code> or <code>booktitle</code> field.
                                </li>
                                </ul>
                                In all cases, if the value of the <code>journal</code> or <code>booktitle</code> field has fewer than 25 characters, it is shown as is. Otherwise, an acronym within that field, usually enclosed in parentheses, is searched and used. If no explicit acronym is found, one is generated automatically.
                                Additionally, if you want to include more details, such as the conference track name or whether it is a short paper, you can use the <code>track</code> field.
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Authors</h5>
                                    <p class="card-text">At the bottom-left corner of the square, both the researcher's position and the total number of authors are displayed. If the researcher's name is not found in the <code>author</code> field, only the total number of authors is shown.</p>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Awards</h5>
                                    <p class="card-text">Awards are extracted from the <code>awards</code> field, where you can list any number of awards separated by commas. In the visualization, two types of awards are distinguished:</p>
                                    <ul class="card-text">
                                        <li>
                                            <strong>🏆 Best paper awards:</strong> For conference publications.
                                        </li>
                                        <li>
                                            <strong>🏅 Other awards:</strong> For books and PhD theses.
                                        </li>
                                    </ul>
                                    Example: <code>awards={Best Paper Award, Best Presentation Award}</code>. In this case, two 🏆 icons will appear in the visualization.
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Additional notes</h5>
                                    <p class="card-text">Additional notes about the publications can be added using the <code>note</code> field, where multiple notes can be listed, separated by commas. The following values are supported:</p>
                                    <ul class="card-text">
                                        <li>
                                            👥 <code>external collaboration</code>: Indicates that at least one co-author belongs to a different institution than the researcher.
                                        </li>
                                        <li>
                                            🏢 <code>industry collaboration</code>: Indicates that at least one co-author is affiliated with a company.
                                        </li>
                                        <li>
                                            🗺️ <code>international stay result</code>: Indicates that the publication is the outcome of an international research stay or internship carried out by the researcher.
                                        </li>
                                    </ul>
                                    Example: <code>note={external collaboration, industry collaboration}</code>. In this case, the icons 👥🏢 will appear in the visualization.
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Contact</h5>
                                <p class="card-text">
                                    For questions, feedback, or bug reports, you can contact 
                                    <a href="https://sites.google.com/view/josemiguelhorcas" target="_blank">José Miguel Horcas</a> 
                                    by email or open an issue on GitHub.
                                </p>
                                <a href="mailto:&#104;&#111;&#114;&#099;&#097;&#115;&#064;&#117;&#109;&#097;&#046;&#101;&#115;?subject=[BibTexViz]"
                                class="btn btn-outline-dark" role="button" aria-pressed="true">📧 Email</a>
                                <a href="https://github.com/bibtexviz/bibtexviz.github.io/issues" 
                                class="btn btn-outline-dark" role="button" aria-pressed="true" target="_blank">🐙 GitHub Issues</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-9">
                <div class="card card-publications">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>Publications</span>
                        <div class="dropdown">
                            <button class="btn btn-sm btn-light" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
                                    <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                </svg>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#" id="downloadBib">Download as BibTex</a></li>
                                <div class="dropdown-divider"></div>
                                <li><a class="dropdown-item" href="#" id="downloadSvg">Download as SVG</a></li>
                                <li><a class="dropdown-item" href="#" id="downloadPng">Download as PNG</a></li>
                                <li><a class="dropdown-item" href="#" id="downloadPdf">Download as PDF</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="card-body" style="overflow-x: auto;">
                        <div style="min-width: 1200px;"></div>
                            <svg id="chart"></svg>
                        </div> 
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-4">
        &copy; 2025 José Miguel Horcas. All rights reserved.
    </footer>

    <!-- Modal for publication details -->
    <div class="modal fade" id="publicationModal" tabindex="-1" aria-labelledby="publicationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="publicationModalLabel">Publication Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>

    <!-- FileSaver, PDFKit -->
    <script src="static/vendor/FileSaver.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pdfkit@0.17.1/js/pdfkit.standalone.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/svg-to-pdfkit@0.1.8/source.min.js"></script>

    <!-- Para exportar a PDF los emojis -->
     <script src="https://cdn.jsdelivr.net/npm/twemoji@14.0.2/dist/twemoji.min.js"></script>

    <script defer src="static/js/icore.js"></script>
    <script defer src="static/js/utils.js"></script>
    <script defer src="static/js/persistence.js"></script>
    <script defer src="static/js/main.js"></script>
    <script defer src="static/js/drawPublications.js"></script>
    <script defer src="static/vendor/bibtexParse.js"></script>
    <script defer src="static/js/bibToJSON.js"></script>
    <script defer src="static/js/dblp.js"></script>
</body>
</html>